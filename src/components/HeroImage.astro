---
export interface ColorSchemeImages {
	dark: string;
	light: string;
}

export interface Props {
	alt: string;
	size: 'small' | 'large';
	src: string | ColorSchemeImages;
}

const src =
	typeof Astro.props.src === "string" ? { dark: Astro.props.src, light: Astro.props.src } : Astro.props.src;
---

<div class:list={["heroImage", Astro.props.size]}>
	<picture>
		<source srcset={src.dark} media="(prefers-color-scheme: dark)" />
		<source srcset={src.light} media="(prefers-color-scheme: light)" />
		<img alt={Astro.props.alt} class={Astro.props.size} src={src.light} />
	</picture>
</div>

<style>
	img {
        border-radius: 100%;
		user-select: none;
		width: var(--imageSize);
	}

	.heroImage.small,
	.small img {
		height: 128px;
		height: 128px;
	}

	.heroImage.large,
	.large img {
		height: 256px;
		width: 256px;
	}

	@media (min-width: 700px) {
		img {
			max-height: 100%;
			max-width: 100%;
			box-shadow: 0 7px 7px 3px var(--colorSubtle);
		}
	}
</style>
