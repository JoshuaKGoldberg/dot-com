---
import { getCollection } from "astro:content";

import { Anchor } from "../components/Anchor";
import { BlogsGrouped } from "../components/blog/BlogsGrouped";
import BodyContents from "../components/BodyContents.astro";
import Hero from "../components/Hero.astro";
import HeroSecondary from "../components/HeroSecondary.astro";
import HeroTertiary from "../components/HeroTertiary.astro";
import { description } from "../constants";
import BaseLayout from "../layouts/BaseLayout.astro";

const blogs = await getCollection("blog");
---

<BaseLayout description={description} slug="goldblog" title="Goldblog">
	<BodyContents>
		<Hero
			image={{
				alt: "todo",
				size: "large",
				src: `/images/blog.jpg`,
			}}
			primary="Goldblog"
		>
			<HeroSecondary size="normal">
				{description}
			</HeroSecondary>
			<HeroTertiary>
				New posts are shared online and posted to an RSS feed at <Anchor
					href="/rss.xml"
					target="_blank"
				>
					/rss.xml
				</Anchor>.
			</HeroTertiary>
		</Hero>
	</BodyContents>
	<BlogsGrouped blogs={blogs.sort((a, b) => +b.data.pubDate - +a.data.pubDate)} />
</BaseLayout>
